
# 如果需要修改Docker暴露端口，请修改ports中的参数
# 示例(8080:3000) 则访问 http://localhost:8080
SERVICE_PORT=3000


# 监听地址(非必填)
LISTEN_ADDRESS=

# PM2 多进程配置
# PM2进程数量配置
# max: 使用所有CPU核心
# 数字: 指定进程数量，如 4
# 1: 单进程模式
PM2_INSTANCES=1

# PM2内存限制，超过此限制将自动重启进程
# 支持格式: 100M, 1G, 2G 等
PM2_MAX_MEMORY=1G

# API 密钥配置
# 支持单个或多个API_KEY，用逗号分隔
# 第一个API_KEY为管理员密钥，拥有全部权限（可访问前端管理页面、修改设置）
# 其他API_KEY为普通密钥，仅有调用API的权限，不能访问前端管理页面
#
# 单个密钥示例：
# API_KEY=sk-admin123
#
# 多个密钥示例：
# API_KEY=sk-admin123,sk-user456,sk-user789
# 其中：
# - sk-admin123: 管理员密钥（可访问前端管理页面，可修改所有设置）
# - sk-user456,sk-user789: 普通密钥（仅可调用API，不能访问前端页面）
API_KEY=sk-123456

# # 是否输出思考过程
# OUTPUT_THINK=true

# 搜索信息显示模式
# SEARCH_INFO_MODE=table

# 简化模型映射
# true: 只返回基础模型，不包含thinking、search、image等变体
# false: 返回完整模型列表，包含所有变体
SIMPLE_MODEL_MAP=false

# Redis链接(如果使用redis模式,则必填,当redis使用tls时将redis://替换为rediss://)
REDIS_URL=

# 数据保存模式
# none 不保存数据，仅使用环境变量中的设置
# file 保存在本地文件中
# redis 保存到远程/本地redis中
DATA_SAVE_MODE=none

# 账号与密码用:分隔，账号与账号间用,分隔(如果使用redis和file模式,则不需要填写)
ACCOUNTS=

# 日志配置
# 日志级别 (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# 是否启用文件日志
ENABLE_FILE_LOG=false

# 日志文件目录
LOG_DIR=./logs

# 最大日志文件大小 (MB)
MAX_LOG_FILE_SIZE=10

# 保留的日志文件数量
MAX_LOG_FILES=5

# 每日 SessionID 刷新设置
# IANA 时区（如 Asia/Shanghai, UTC）
TIMEZONE=UTC
# 每日刷新时间，24小时制 HH:mm（留空关闭）
DAILY_SESSION_UPDATE_TIME=

# 透传目标基础地址（例如：https://jimeng.985100.xyz）
PROXY_TARGET=

# 透传请求超时（毫秒），默认 180000 (3 分钟)
PROXY_TIMEOUT_MS=180000

# 当上游响应为 429/400/401/504 时，自动切换 sessionId 并重试的最大重试次数（默认 5）
PROXY_MAX_RETRY=5

# 透传日志配置
# 是否记录请求/响应体摘要（截断、仅文本/JSON）
PROXY_LOG_BODY=false
# 请求/响应体摘要最大字符数
PROXY_LOG_BODY_MAX=2048

# 浏览器登录代理（Playwright，用于 Dreamina 登录）
# 支持 http、https、socks5；例如：
# BROWSER_PROXY_URL=http://127.0.0.1:7890
# BROWSER_PROXY_URL=socks5://127.0.0.1:1080
BROWSER_PROXY_ENABLE=false
BROWSER_PROXY_URL=
# 如需鉴权可填；也可在 URL 中携带（http://user:pass@host:port）
BROWSER_PROXY_USERNAME=
BROWSER_PROXY_PASSWORD=

# 批量添加/刷新并发数（默认5）
BATCH_ADD_CONCURRENCY=5
